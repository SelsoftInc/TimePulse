/**
 * Global Dropdown Hover Fix
 * Prevents table row hover effects when dropdown is open
 * Apply this to all tables with action dropdowns
 */

/* Vendors Module */
.table-vendors tbody tr:hover:not(.dropdown-open) {
  background-color: #f9fafc;
}

.table-vendors tbody tr.dropdown-open {
  background-color: transparent !important;
  position: relative;
  z-index: 10000 !important;
}

.table-vendors tbody tr.dropdown-open .dropdown {
  z-index: 10000 !important;
}

.table-vendors tbody tr.dropdown-open .dropdown-menu {
  z-index: 99999 !important;
  opacity: 1 !important;
}

/* Implementation Partners Module */
.table-implementation-partners tbody tr:hover:not(.dropdown-open) {
  background-color: #f9fafc;
}

.table-implementation-partners tbody tr.dropdown-open {
  background-color: transparent !important;
  position: relative;
  z-index: 10000 !important;
}

.table-implementation-partners tbody tr.dropdown-open .dropdown {
  z-index: 10000 !important;
}

.table-implementation-partners tbody tr.dropdown-open .dropdown-menu {
  z-index: 99999 !important;
  opacity: 1 !important;
}

/* Leave Management Module */
.leave-requests-table .table tbody tr:hover:not(.dropdown-open) {
  background: var(--bg-secondary, #f8f9fa);
}

.leave-requests-table .table tbody tr.dropdown-open {
  background-color: transparent !important;
  position: relative;
  z-index: 10000 !important;
}

.leave-requests-table .table tbody tr.dropdown-open .dropdown {
  z-index: 10000 !important;
}

.leave-requests-table .table tbody tr.dropdown-open .dropdown-menu {
  z-index: 99999 !important;
  opacity: 1 !important;
}

body.dark-mode .leave-requests-table .table tbody tr:hover:not(.dropdown-open) {
  background: var(--bg-secondary, #0f172a);
}

/* User Management Module */
.users-table tbody tr:hover:not(.dropdown-open) {
  background: #f9fafb;
}

.users-table tbody tr.dropdown-open {
  background-color: transparent !important;
  position: relative;
  z-index: 10000 !important;
}

.users-table tbody tr.dropdown-open .dropdown {
  z-index: 10000 !important;
}

.users-table tbody tr.dropdown-open .dropdown-menu {
  z-index: 99999 !important;
  opacity: 1 !important;
}

/* Invoices Module - Discrepancy Table */
.discrepancy-table tbody tr:hover:not(.dropdown-open) {
  background: var(--table-hover);
  transition: background-color 0.3s ease;
}

.discrepancy-table tbody tr:hover:not(.dropdown-open) td {
  background: var(--table-hover);
  transition: background-color 0.3s ease;
}

.discrepancy-table tbody tr.dropdown-open {
  background-color: transparent !important;
  position: relative;
  z-index: 10000 !important;
}

.discrepancy-table tbody tr.dropdown-open td {
  background-color: transparent !important;
}

.discrepancy-table tbody tr.dropdown-open .dropdown {
  z-index: 10000 !important;
}

.discrepancy-table tbody tr.dropdown-open .dropdown-menu {
  z-index: 99999 !important;
  opacity: 1 !important;
}

/* Timesheet Summary Module */
.table-hover tbody tr:hover:not(.dropdown-open) {
  background-color: var(--timesheet-row-hover);
  transition: background-color 0.3s ease;
}

.table-hover tbody tr.dropdown-open {
  background-color: transparent !important;
  position: relative;
  z-index: 10000 !important;
}

.table-hover tbody tr.dropdown-open .dropdown {
  z-index: 10000 !important;
}

.table-hover tbody tr.dropdown-open .dropdown-menu {
  z-index: 99999 !important;
  opacity: 1 !important;
}

/* Dashboard Module */
tbody tr:hover:not(.dropdown-open) {
  background-color: #f8fafc;
  transition: background-color 0.2s ease;
}

tbody tr.dropdown-open {
  background-color: transparent !important;
  position: relative;
  z-index: 10000 !important;
}

tbody tr.dropdown-open .dropdown {
  z-index: 10000 !important;
}

tbody tr.dropdown-open .dropdown-menu {
  z-index: 99999 !important;
  opacity: 1 !important;
}

/* Generic table fix for any missed tables */
table tbody tr:hover:not(.dropdown-open) {
  background-color: inherit;
}

table tbody tr.dropdown-open {
  background-color: transparent !important;
  position: relative;
  z-index: 10000 !important;
}

table tbody tr.dropdown-open .dropdown {
  z-index: 10000 !important;
}

table tbody tr.dropdown-open .dropdown-menu {
  z-index: 99999 !important;
  opacity: 1 !important;
  background-color: #fff !important;
}

body.dark-mode table tbody tr.dropdown-open .dropdown-menu {
  background-color: #1e293b !important;
}
